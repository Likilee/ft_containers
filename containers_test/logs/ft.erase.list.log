size: 10
max_size: 461168601842738790

Content is:
- AAAAAAAAAA
- BBBBBBBBB
- CCCCCCCC
- DDDDDDD
- EEEEEE
- FFFFF
- GGGG
- HHH
- II
- J
###############################################
[0] erase: 9
size: 9
max_size: 461168601842738790

Content is:
- AAAAAAAAAA
- CCCCCCCC
- DDDDDDD
- EEEEEE
- FFFFF
- GGGG
- HHH
- II
- J
###############################################
[1] erase: 0
size: 8
max_size: 461168601842738790

Content is:
- CCCCCCCC
- DDDDDDD
- EEEEEE
- FFFFF
- GGGG
- HHH
- II
- J
###############################################
[2] erase: 1
size: 7
max_size: 461168601842738790

Content is:
- CCCCCCCC
- DDDDDDD
- EEEEEE
- FFFFF
- GGGG
- HHH
- II
###############################################
=================================================================
==19907==ERROR: AddressSanitizer: heap-use-after-free on address 0x604000000430 at pc 0x00010bd31da4 bp 0x7ffee3ed2c60 sp 0x7ffee3ed2c58
READ of size 8 at 0x604000000430 thread T0
    #0 0x10bd31da3 in ft::bidirection_iter<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >*, ft::bidirectional_iterator_tag, long>::operator++() bidirection_iter.hpp:66
    #1 0x10bd320f7 in ft::list<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::erase(ft::bidirection_iter<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >*, ft::bidirectional_iterator_tag, long>, ft::bidirection_iter<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >*, ft::bidirectional_iterator_tag, long>) list.hpp:315
    #2 0x10bd3055f in main erase.cpp:33
    #3 0x7fff68b60cc8 in start+0x0 (libdyld.dylib:x86_64+0x1acc8)

0x604000000430 is located 32 bytes inside of 40-byte region [0x604000000410,0x604000000438)
freed by thread T0 here:
    #0 0x10bdaac0d in wrap__ZdlPv+0x7d (libclang_rt.asan_osx_dynamic.dylib:x86_64h+0x55c0d)
    #1 0x10bd36774 in std::__1::_DeallocateCaller::__do_call(void*) new:334
    #2 0x10bd36758 in std::__1::_DeallocateCaller::__do_deallocate_handle_size(void*, unsigned long) new:292
    #3 0x10bd36730 in std::__1::_DeallocateCaller::__do_deallocate_handle_size_align(void*, unsigned long, unsigned long) new:262
    #4 0x10bd36704 in std::__1::__libcpp_deallocate(void*, unsigned long, unsigned long) new:340
    #5 0x10bd366ad in std::__1::allocator<ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::deallocate(ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >*, unsigned long) memory:1872
    #6 0x10bd31cc2 in ft::list<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::erase(ft::bidirection_iter<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >*, ft::bidirectional_iterator_tag, long>) list.hpp:305
    #7 0x10bd320d2 in ft::list<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::erase(ft::bidirection_iter<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >*, ft::bidirectional_iterator_tag, long>, ft::bidirection_iter<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >*, ft::bidirectional_iterator_tag, long>) list.hpp:314
    #8 0x10bd3055f in main erase.cpp:33
    #9 0x7fff68b60cc8 in start+0x0 (libdyld.dylib:x86_64+0x1acc8)

previously allocated by thread T0 here:
    #0 0x10bdaa7ed in wrap__Znwm+0x7d (libclang_rt.asan_osx_dynamic.dylib:x86_64h+0x557ed)
    #1 0x10bd35758 in std::__1::__libcpp_allocate(unsigned long, unsigned long) new:253
    #2 0x10bd35634 in std::__1::allocator<ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::allocate(unsigned long, void const*) memory:1869
    #3 0x10bd35fe2 in ft::list<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::insert(ft::bidirection_iter<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >*, ft::bidirectional_iterator_tag, long>, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) list.hpp:276
    #4 0x10bd35d57 in ft::list<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::insert(ft::bidirection_iter<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >*, ft::bidirectional_iterator_tag, long>, unsigned long, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) list.hpp:286
    #5 0x10bd354dc in ft::list<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::assign(unsigned long, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) list.hpp:248
    #6 0x10bd34f69 in ft::list<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::list(unsigned long, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > const&, std::__1::allocator<ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >) list.hpp:128
    #7 0x10bd3186c in ft::list<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >::list(unsigned long, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > const&, std::__1::allocator<ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > >) list.hpp:126
    #8 0x10bd2ff7a in main erase.cpp:21
    #9 0x7fff68b60cc8 in start+0x0 (libdyld.dylib:x86_64+0x1acc8)

SUMMARY: AddressSanitizer: heap-use-after-free bidirection_iter.hpp:66 in ft::bidirection_iter<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, ft::list_node<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > >*, ft::bidirectional_iterator_tag, long>::operator++()
Shadow bytes around the buggy address:
  0x1c0800000030: fa fa 00 00 00 00 00 05 fa fa 00 00 00 00 00 00
  0x1c0800000040: fa fa 00 00 00 00 00 07 fa fa 00 00 00 00 00 00
  0x1c0800000050: fa fa 00 00 00 00 00 00 fa fa 00 00 00 00 00 00
  0x1c0800000060: fa fa 00 00 00 00 00 05 fa fa 00 00 00 00 00 fa
  0x1c0800000070: fa fa fd fd fd fd fd fa fa fa fd fd fd fd fd fa
=>0x1c0800000080: fa fa fd fd fd fd[fd]fa fa fa 00 00 00 00 00 fa
  0x1c0800000090: fa fa 00 00 00 00 00 fa fa fa 00 00 00 00 00 fa
  0x1c08000000a0: fa fa 00 00 00 00 00 fa fa fa 00 00 00 00 00 fa
  0x1c08000000b0: fa fa 00 00 00 00 00 fa fa fa fd fd fd fd fd fa
  0x1c08000000c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x1c08000000d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
  Shadow gap:              cc
==19907==ABORTING
